(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(60)},32:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r,o=n(0),l=n.n(o),a=n(20),c=n.n(a),i=(n(32),n(7)),s=n(4),u=n(2),f=n(5);const d=f.a.button(r||(r=Object(s.a)(["\n    all:  unset;\n    min-width: 140px;\n    text-align: center;\n    color: #333;\n    text-decoration: none;\n    text-transform: uppercase;\n    letter-spacing: 2.8px;\n    background-color:  #fff;\n    padding: 15px 50px;\n    border-radius: 5rem;\n    box-shadow:  1px 2.9px 16px #aaa;\n    transition: 0.6s cubic-bezier(0.01, 1.69, 0.99, 0.94); \n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 3px 4.9px 16px #aaa;\n        letter-spacing:  5px\n    }\n\n    &:focus {\n        transition: 0.6s cubic-bezier(0.01, 1.69, 0.99, 0.94); \n        padding: 15px 2px;\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        top: 0;\n        left: 0;\n        text-align: center;\n        font-size: 5rem;\n        border-radius: 0%;\n    }\n"]))),b=e=>{let{children:t,onClick:n=(()=>{}),delay:r=!1}=e;const[a,c]=Object(o.useState)(!1),i=Object(o.useRef)(null),s=Object(o.useCallback)(()=>{var e;a||(r||n(),c(!0),null===(e=i.current)||void 0===e||e.focus(),setTimeout(()=>{var e;c(!1),null===(e=i.current)||void 0===e||e.blur(),r&&n()},700))},[n,r,a]);return l.a.createElement(d,{ref:i,onClick:s},t)};var h,m=n(23),p=n.n(m);const g=f.a.main(h||(h=Object(s.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),p()(["#606470","#3c79ce","#F9CE00","#4CAF50","#FF9800"]));var O,x;const y=f.a.h1(O||(O=Object(s.a)(["\n    color: #fff;\n    font-size: 6em;\n"]))),v=f.a.div(x||(x=Object(s.a)(["\n    position: absolute;\n    bottom: 40px;\n    & a {\n        all: unset;\n        cursor: pointer;\n        text-decoration: underline;\n        color: #fff;\n    }\n"]))),j=()=>{const e=Object(u.m)();return l.a.createElement(g,{style:{gap:20}},l.a.createElement(y,null,"Games"),l.a.createElement(b,{onClick:()=>e("/tic-tac-toe"),delay:!0},"Tic Tac Toe"),l.a.createElement(b,{onClick:()=>e("/gomoku"),delay:!0},"Gomoku"),l.a.createElement(v,null,l.a.createElement("a",{target:"_blank",href:"https://github.com/keyi6/ai-games/",rel:"noopener noreferrer"},"https://github.com/keyi6/ai-games/")))};let k=function(e){return e[e.Blank=0]="Blank",e[e.Player1=1]="Player1",e[e.Player2=-1]="Player2",e}({}),E=function(e){return e[e.OnGoing=0]="OnGoing",e.Tie="tie",e.Player1Won="player 1",e.Player2Won="player 2",e}({});var C;const w=f.a.div(C||(C=Object(s.a)(["\n    position: absolute;\n    text-decoration: none;\n    text-transform: uppercase;\n    top: 0;\n    left: 0;\n    color: #333;\n    background-color: #fff;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-size: 6rem;\n    height: 100vh;\n    width: 100vw;\n    z-index: 999;\n    text-align: center;\n"]))),P=Object(o.forwardRef)((e,t)=>{const[n,r]=Object(o.useState)(!1),[a,c]=Object(o.useState)(E.OnGoing),i=Object(o.useMemo)(()=>"loading"===a?"Calculating...":a===E.Player1Won?"You won":a===E.Player2Won?"You lost":"Tie",[a]);return Object(o.useImperativeHandle)(t,()=>({show:e=>{c(e),r(!0)},hide:()=>{r(!1)}})),n?l.a.createElement(w,{style:{opacity:"loading"===a?.1:.8}},i):null});function G(e,t,n,r){const o=[...e];for(let a=0;a<n;a++)o.push(new Array(t).fill(0).map((t,n)=>e[n][a]));for(let a=0;a<n;a++){let r=[],l=0,c=a;for(;l<t&&c<n;)r.push(e[l][c]),l++,c++;for(o.push(r),r=[],l=0,c=a;l<t&&c>=0;)r.push(e[l][c]),l++,c--;o.push(r)}for(let a=0;a<t;a++){let r=[],l=a,c=0;for(;l<t&&c<n;)r.push(e[l][c]),l++,c++;for(o.push(r),r=[],l=a,c=0;l<t&&c>=0;)r.push(e[l][c]),l++,c--;o.push(r)}const l=o.map(e=>(function(e,t){if(e.length<t)return E.OnGoing;for(let n=0;n+t<=e.length;n++)if(e[n]!==k.Blank&&e.slice(n+1,n+t).every(t=>t===e[n]))return console.debug("Matched",e),e[n]===k.Player1?E.Player1Won:E.Player2Won;return E.OnGoing})(e,r)).filter(e=>e!==E.OnGoing);return l.length?l[0]:e.some(e=>e.some(e=>e===k.Blank))?E.OnGoing:E.Tie}function S(e,t,n,r){const[l,a]=Object(o.useState)(0),[c,i]=Object(o.useState)([]),[s,u]=Object(o.useState)(r),f=Object(o.useCallback)((e,t)=>(i(n=>[...n,{x:e,y:t,seq:l,status:s?k.Player1:k.Player2}]),a(e=>e+1),u(e=>!e),c),[l,s]),d=Object(o.useMemo)(()=>{const n=new Array(e).fill(0).map(e=>new Array(t).fill(k.Blank));return c.forEach(e=>{let{x:t,y:r,status:o}=e;return n[t][r]=o}),n},[c,t,e]),b=Object(o.useMemo)(()=>G(d,e,t,n),[d,e,t,n]),h=Object(o.useCallback)(()=>{a(0),i([]),u(r)},[r]);return{bitmap:d,placeChess:f,gameStatus:b,player:s,restart:h,seq:l}}const M=window.innerHeight,T=window.innerWidth,R=.6*(M<T?M:T),z=Math.round(R/15),W=Math.ceil(.5*(R-14*z)),B=.4*z;function F(e){if(!e)return void console.error("Canvas is null");e.width=R,e.height=R;const t=e.getContext("2d");if(t)for(let n=0;n<15;n++)t.strokeStyle="#FFF",t.lineWidth=2,t.moveTo(W+n*z,W),t.lineTo(W+n*z,R-W),t.stroke(),t.moveTo(W,n*z+W),t.lineTo(R-W,n*z+W),t.stroke();else console.error("Canvas context is null")}function H(e,t,n,r){const o=null===e||void 0===e?void 0:e.getContext("2d");if(!o)return void console.error("Canvas context is null");const l=t*z+W,a=n*z+W;o.fillStyle=r%2===0?"#000":"#fff",o.beginPath(),o.arc(l,a,B,0,2*Math.PI,!0),o.closePath(),o.fill(),o.stroke(),o.fillStyle=r%2===0?" #fff":" #000",o.font="20px sans-serif";const c="".concat(r+1),i=l-10*c.length+8,s=a+5;o.fillText(c,i,s)}const I=Object(o.forwardRef)((e,t)=>{let{onStatusChange:n,onPlayerPlaced:r}=e;const{bitmap:a,placeChess:c,gameStatus:i,player:s,restart:u,seq:f}=S(15,15,5,!0),d=Object(o.useRef)(null),b=Object(o.useMemo)(()=>i===E.OnGoing,[i]);Object(o.useImperativeHandle)(t,()=>({placeChess:(e,t)=>{H(d.current,e,t,f),c(e,t)},restart:()=>{u(),F(d.current)}}),[c,u]),Object(o.useLayoutEffect)(()=>{i!==E.OnGoing&&n(i)},[i,n]),Object(o.useEffect)(()=>{s||i!==E.OnGoing||r(a)},[s,a]),Object(o.useEffect)(()=>{F(d.current)},[]);const h=Object(o.useCallback)(e=>{if(!b)return;const{x:t,y:n}=function(e){const t=e.clientX-W-(window.innerWidth-R)/2,n=e.clientY-W-(window.innerHeight-R)/2;return{x:Math.round(t/z),y:Math.round(n/z)}}(e);a[t][n]===k.Blank&&(H(d.current,t,n,f),c(t,n))},[f,a]);return l.a.createElement("div",null,l.a.createElement("canvas",{ref:d,onClick:h}))});const A=(e,t,n,r,o)=>{let l={x:-1,y:-1,score:-1/0};if(0===t||Q(e))return{x:-1,y:-1,score:n*L(e)};let a=q(e);for(let c of a){e[c.x][c.y]=n;const a=A(e,t-1,-n,-o,-r);if(a.score=-a.score,e[c.x][c.y]=0,a.score>l.score&&(l={x:c.x,y:c.y,score:a.score}),(r=Math.max(r,a.score))>=o)break}return l},q=e=>{let t=[];for(let n=0;n<e.length;n++)for(let r=0;r<e[n].length;r++)0===e[n][r]&&Y(e,n,r)&&t.push({x:n,y:r,score:0});return t.sort((t,n)=>J(e,n)-J(e,t)),t},Y=(e,t,n)=>{const r=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,-1],[1,-1],[-1,1]];for(let[o,l]of r){const r=t+o,a=n+l;if(r>=0&&r<e.length&&a>=0&&a<e.length&&0!==e[r][a])return!0}return!1},J=(e,t)=>{e[t.x][t.y]=1;const n=L(e);return e[t.x][t.y]=0,n},L=e=>{let t=0;return t+=_(e),t+=_(X(e)),t+=D(e),t+=D(X(e))},X=e=>e[0].map((t,n)=>e.map(e=>e[n])),_=e=>{let t=0;for(let n of e)t+=K(n);return t},D=e=>{let t=0;const n=e.length;for(let r=1-n;r<n;r++){let o=[];for(let t=0;t<n;t++){const l=t+r;l>=0&&l<n&&o.push(e[t][l])}t+=K(o)}for(let r=0;r<2*n-1;r++){let o=[];for(let t=0;t<n;t++){const l=r-t;l>=0&&l<n&&o.push(e[t][l])}t+=K(o)}return t},K=e=>{let t=0;for(let n=0;n<e.length-4;n++){const r=e.slice(n,n+5);t+=N(r)}return t},N=e=>{const t=e.filter(e=>1===e).length,n=e.filter(e=>-1===e).length;return 5===t?1e5:5===n?-1e5:t>0&&n>0?0:4===t?1e3:4===n?-1e3:3===t?100:3===n?-100:2===t?10:2===n?-10:0},Q=e=>U(e,1)||U(e,-1),U=(e,t)=>{const n=e.length;for(let r=0;r<n;r++)for(let o=0;o<n;o++)if(V(e,r,o,t,1,0)||V(e,r,o,t,0,1)||V(e,r,o,t,1,1)||V(e,r,o,t,1,-1))return!0;return!1};function V(e,t,n,r,o,l){const a=e.length;let c=0;for(let i=0;i<5;i++){const s=t+i*o,u=n+i*l;if(!(s>=0&&s<a&&u>=0&&u<a&&e[s][u]===r))break;if(5===++c)return!0}return!1}var Z;const $=f.a.section(Z||(Z=Object(s.a)(["\n    position: fixed;\n    bottom: 50px;\n    z-index: 1000;\n"]))),ee=()=>{const e=Object(o.useRef)(null),t=Object(o.useRef)(null);Object(o.useEffect)(()=>{var e;null===(e=t.current)||void 0===e||e.hide()});const n=Object(o.useCallback)(e=>{e!==E.OnGoing&&(console.log(e),setTimeout(()=>{var n;null===(n=t.current)||void 0===n||n.show(e)},200))},[]),r=Object(o.useCallback)(n=>{var r;null===(r=t.current)||void 0===r||r.show("loading");const o=function(e){return A(e,2,-1,-1/0,1/0)}(n);console.log(o),setTimeout(()=>{var n,r;null===(n=e.current)||void 0===n||n.placeChess(o.x,o.y),null===(r=t.current)||void 0===r||r.hide()},500)},[]),a=Object(o.useCallback)(()=>{var n,r;null===(n=e.current)||void 0===n||n.restart(),null===(r=t.current)||void 0===r||r.hide()},[]);return l.a.createElement(g,null,l.a.createElement(P,{ref:t}),l.a.createElement(I,{onPlayerPlaced:r,onStatusChange:n,ref:e}),l.a.createElement($,null,l.a.createElement(b,{onClick:a},"Restart")))};var te,ne,re,oe;const le=f.a.td(te||(te=Object(s.a)(["\n    height: ","vmin;\n    width: ","vmin;\n    font-size: calc(","vmin - 20px);\n    line-height: calc(","vmin - 20px);\n    cursor: pointer;\n    text-align: center;\n"])),20,20,20,20),ae=Object(f.a)(le)(ne||(ne=Object(s.a)(['\n    &:after {\n        content: "\u2b55\ufe0f";\n    }\n']))),ce=Object(f.a)(le)(re||(re=Object(s.a)(['\n    &:after {\n        content: "\u274c";\n    }\n']))),ie=e=>{let{status:t,onClick:n}=e;return t===k.Blank?l.a.createElement(le,{onClick:n}):t===k.Player1?l.a.createElement(ae,null):l.a.createElement(ce,null)},se=f.a.table(oe||(oe=Object(s.a)(["\n    border-collapse: collapse;\n\n    td + td,\n    th + th { border-left: 2vmin solid #fff; }\n    tr + tr { border-top: 2vmin solid #fff; }\n"]))),ue=Object(o.forwardRef)((e,t)=>{let{onStatusChange:n,onPlayerPlaced:r}=e;const a=Object(o.useRef)(null),{bitmap:c,placeChess:i,gameStatus:s,player:u,restart:f}=S(3,3,3,!0),d=Object(o.useMemo)(()=>s===E.OnGoing,[s]),b=Object(o.useMemo)(()=>c.map((e,t)=>l.a.createElement("tr",{key:"row-".concat(t)},e.map((e,n)=>l.a.createElement(ie,{key:"cell-".concat(t,"-").concat(n),status:e,onClick:()=>d&&i(t,n)})))),[c,i,d]);return Object(o.useImperativeHandle)(t,()=>({placeChess:(e,t)=>i(e,t),restart:()=>f()}),[i,f]),Object(o.useLayoutEffect)(()=>{s!==E.OnGoing&&n(s)},[s,n]),Object(o.useEffect)(()=>{u||s!==E.OnGoing||r(c)},[u,c,s,r]),l.a.createElement(se,{ref:a},l.a.createElement("tbody",null,b))}),fe=3;function de(e,t,n){let r=function(e){for(let t=0;t<fe;t++)if(e[t][0]===e[t][1]&&e[t][1]===e[t][2]){if(-1===e[t][0])return 10;if(1===e[t][0])return-10}for(let t=0;t<fe;t++)if(e[0][t]===e[1][t]&&e[1][t]===e[2][t]){if(-1===e[0][t])return 10;if(1===e[0][t])return-10}if(e[0][0]===e[1][1]&&e[1][1]===e[2][2]){if(-1===e[0][0])return 10;if(1===e[0][0])return-10}if(e[0][2]===e[1][1]&&e[1][1]===e[2][0]){if(-1===e[0][2])return 10;if(1===e[0][2])return-10}return 0}(e);if(10===r)return r-t;if(-10===r)return r+t;if(!1===function(e){for(let t=0;t<fe;t++)for(let n=0;n<fe;n++)if(0===e[t][n])return!0;return!1}(e))return 0;if(n){let n=-1/0;for(let r=0;r<fe;r++)for(let o=0;o<fe;o++)0===e[r][o]&&(e[r][o]=-1,n=Math.max(n,de(e,t+1,!1)),e[r][o]=0);return n}{let n=1/0;for(let r=0;r<fe;r++)for(let o=0;o<fe;o++)0===e[r][o]&&(e[r][o]=1,n=Math.min(n,de(e,t+1,!0)),e[r][o]=0);return n}}var be;const he=f.a.section(be||(be=Object(s.a)(["\n    position: fixed;\n    bottom: 50px;\n    z-index: 1000;\n"]))),me=()=>{const e=Object(o.useRef)(null),t=Object(o.useRef)(null);Object(o.useEffect)(()=>{var e;null===(e=t.current)||void 0===e||e.hide()});const n=Object(o.useCallback)(e=>{e!==E.OnGoing&&(console.log(e),setTimeout(()=>{var n;null===(n=t.current)||void 0===n||n.show(e)},400))},[]),r=Object(o.useCallback)(t=>{var n;const r=function(e){let t=-1/0,n={x:-1,y:-1,score:t};for(let r=0;r<fe;r++)for(let o=0;o<fe;o++)if(0===e[r][o]){e[r][o]=-1;const l=de(e,0,!1);e[r][o]=0,l>t&&(n={x:r,y:o,score:t=l})}return n}(t);null===(n=e.current)||void 0===n||n.placeChess(r.x,r.y)},[]),a=Object(o.useCallback)(()=>{var n,r;null===(n=e.current)||void 0===n||n.restart(),null===(r=t.current)||void 0===r||r.hide()},[]);return l.a.createElement(g,null,l.a.createElement(P,{ref:t}),l.a.createElement(ue,{onPlayerPlaced:r,onStatusChange:n,ref:e}),l.a.createElement(he,null,l.a.createElement(b,{onClick:a},"Restart")))};n(59);const pe=Object(i.b)([{path:"/tic-tac-toe",element:l.a.createElement(me,null)},{path:"/gomoku",element:l.a.createElement(ee,null)},{path:"/",element:l.a.createElement(j,null)}]),ge=()=>l.a.createElement(i.a,{router:pe});c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ge,null)))}},[[25,1,2]]]);
//# sourceMappingURL=main.8a88f166.chunk.js.map