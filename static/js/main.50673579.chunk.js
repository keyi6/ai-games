(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(60)},32:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r,o=n(0),l=n.n(o),a=n(20),c=n.n(a),i=(n(32),n(7)),s=n(4),u=n(2),f=n(5);const d=f.a.button(r||(r=Object(s.a)(["\n    all:  unset;\n    min-width: 140px;\n    text-align: center;\n    color: #333;\n    text-decoration: none;\n    text-transform: uppercase;\n    letter-spacing: 2.8px;\n    background-color:  #fff;\n    padding: 15px 50px;\n    border-radius: 5rem;\n    box-shadow:  1px 2.9px 16px #aaa;\n    transition: 0.6s cubic-bezier(0.01, 1.69, 0.99, 0.94); \n    cursor: pointer;\n\n    &:hover {\n        box-shadow: 3px 4.9px 16px #aaa;\n        letter-spacing:  5px\n    }\n\n    &:focus {\n        transition: 0.6s cubic-bezier(0.01, 1.69, 0.99, 0.94); \n        padding: 15px 2px;\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        top: 0;\n        left: 0;\n        text-align: center;\n        font-size: 5rem;\n        border-radius: 0%;\n    }\n"]))),b=e=>{let{children:t,onClick:n=(()=>{}),delay:r=!1}=e;const[a,c]=Object(o.useState)(!1),i=Object(o.useRef)(null),s=Object(o.useCallback)(()=>{var e;a||(r||n(),c(!0),null===(e=i.current)||void 0===e||e.focus(),setTimeout(()=>{var e;c(!1),null===(e=i.current)||void 0===e||e.blur(),r&&n()},700))},[n,r,a]);return l.a.createElement(d,{ref:i,onClick:s},t)};var h,p=n(23),m=n.n(p);const g=f.a.main(h||(h=Object(s.a)(["\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-color: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),m()(["#606470","#3c79ce","#F9CE00","#4CAF50","#FF9800"]));var x,y;const O=f.a.h1(x||(x=Object(s.a)(["\n    color: #fff;\n    font-size: 6em;\n"]))),v=f.a.div(y||(y=Object(s.a)(["\n    position: absolute;\n    bottom: 40px;\n    & a {\n        all: unset;\n        cursor: pointer;\n        text-decoration: underline;\n        color: #fff;\n    }\n"]))),j=()=>{const e=Object(u.m)();return l.a.createElement(g,{style:{gap:20}},l.a.createElement(O,null,"Games"),l.a.createElement(b,{onClick:()=>e("/tic-tac-toe"),delay:!0},"Tic Tac Toe"),l.a.createElement(b,{onClick:()=>e("/gomoku"),delay:!0},"Gomoku"),l.a.createElement(v,null,l.a.createElement("a",{target:"_blank",href:"https://github.com/keyi6/ai-games/",rel:"noopener noreferrer"},"https://github.com/keyi6/ai-games/")))};let k=function(e){return e[e.Blank=0]="Blank",e[e.Player1=1]="Player1",e[e.Player2=-1]="Player2",e}({}),E=function(e){return e[e.OnGoing=0]="OnGoing",e.Tie="tie",e.Player1Won="player 1",e.Player2Won="player 2",e}({});var w;const C=f.a.div(w||(w=Object(s.a)(["\n    position: absolute;\n    text-decoration: none;\n    text-transform: uppercase;\n    top: 0;\n    left: 0;\n    color: #333;\n    background-color: #fff;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-size: 6rem;\n    height: 100vh;\n    width: 100vw;\n    z-index: 999;\n    text-align: center;\n"]))),P=Object(o.forwardRef)((e,t)=>{const[n,r]=Object(o.useState)(!1),[a,c]=Object(o.useState)(E.OnGoing),i=Object(o.useMemo)(()=>"loading"===a?"Calculating...":a===E.Player1Won?"You won":a===E.Player2Won?"You lost":"Tie",[a]);return Object(o.useImperativeHandle)(t,()=>({show:e=>{c(e),r(!0)},hide:()=>{r(!1)}})),n?l.a.createElement(C,{style:{opacity:"loading"===a?.1:.8}},i):null});function S(e,t,n,r){const o=[...e];for(let a=0;a<n;a++)o.push(new Array(t).fill(0).map((t,n)=>e[n][a]));for(let a=0;a<n;a++){let r=[],l=0,c=a;for(;l<t&&c<n;)r.push(e[l][c]),l++,c++;for(o.push(r),r=[],l=0,c=a;l<t&&c>=0;)r.push(e[l][c]),l++,c--;o.push(r)}for(let a=0;a<t;a++){let r=[],l=a,c=0;for(;l<t&&c<n;)r.push(e[l][c]),l++,c++;for(o.push(r),r=[],l=a,c=0;l<t&&c>=0;)r.push(e[l][c]),l++,c--;o.push(r)}const l=o.map(e=>(function(e,t){if(e.length<t)return E.OnGoing;for(let n=0;n+t<=e.length;n++)if(e[n]!==k.Blank&&e.slice(n+1,n+t).every(t=>t===e[n]))return console.debug("Matched",e),e[n]===k.Player1?E.Player1Won:E.Player2Won;return E.OnGoing})(e,r)).filter(e=>e!==E.OnGoing);return l.length?l[0]:e.some(e=>e.some(e=>e===k.Blank))?E.OnGoing:E.Tie}function M(e,t,n,r){const[l,a]=Object(o.useState)(0),[c,i]=Object(o.useState)([]),[s,u]=Object(o.useState)(r),f=Object(o.useCallback)((e,t)=>(i(n=>[...n,{x:e,y:t,seq:l,status:s?k.Player1:k.Player2}]),a(e=>e+1),u(e=>!e),c),[l,s]),d=Object(o.useMemo)(()=>{const n=new Array(e).fill(0).map(e=>new Array(t).fill(k.Blank));return c.forEach(r=>{let{x:o,y:l,status:a}=r;(o<0||l<0||o>=e||l>=t)&&(console.error("Invalid move: (".concat(o,", ").concat(l,")")),console.log("current moves:",c)),n[o][l]=a}),n},[c,t,e]),b=Object(o.useMemo)(()=>S(d,e,t,n),[d,e,t,n]),h=Object(o.useCallback)(()=>{a(0),i([]),u(r)},[r]);return{bitmap:d,placeChess:f,gameStatus:b,player:s,restart:h,seq:l}}const G=window.innerHeight,T=window.innerWidth,R=.6*(G<T?G:T),W=Math.round(R/15),z=Math.ceil(.5*(R-14*W)),B=.4*W;function H(e){if(!e)return void console.error("Canvas is null");e.width=R,e.height=R;const t=e.getContext("2d");if(t)for(let n=0;n<15;n++)t.strokeStyle="#FFF",t.lineWidth=2,t.moveTo(z+n*W,z),t.lineTo(z+n*W,R-z),t.stroke(),t.moveTo(z,n*W+z),t.lineTo(R-z,n*W+z),t.stroke();else console.error("Canvas context is null")}function F(e,t,n,r){const o=null===e||void 0===e?void 0:e.getContext("2d");if(!o)return void console.error("Canvas context is null");const l=t*W+z,a=n*W+z;o.fillStyle=r%2===0?"#000":"#fff",o.beginPath(),o.arc(l,a,B,0,2*Math.PI,!0),o.closePath(),o.fill(),o.stroke(),o.fillStyle=r%2===0?" #fff":" #000",o.font="20px sans-serif";const c="".concat(r+1),i=l-10*c.length+8,s=a+5;o.fillText(c,i,s)}function I(e){const t=e.clientX-z-(window.innerWidth-R)/2,n=e.clientY-z-(window.innerHeight-R)/2;return{x:Math.round(t/W),y:Math.round(n/W)}}function A(e,t){return{x:e*W+z+(window.innerWidth-R)/2,y:t*W+z+(window.innerHeight-R)/2}}var q,Y;const J=f.a.span(q||(q=Object(s.a)(["\n    height: ","px;\n    width: ","px;\n    opacity: 0.2;\n    background-color: #fff;\n    border-radius: 50%;\n    display: inline-block;\n    position: fixed;\n    pointer-events: none;\n"])),W-1,W-1),L=f.a.span(Y||(Y=Object(s.a)(["\n    height: ","px;\n    width: ","px;\n    border: 2px solid #dadada;\n    border-radius: 50%;\n    display: inline-block;\n    position: fixed;\n    pointer-events: none;\n    outline: none;\n    border-color: #9ecaed;\n    box-shadow: 0 0 10px #9ecaed;\n"])),W-5,W-5),X=Object(o.forwardRef)((e,t)=>{let{onStatusChange:n,onPlayerPlaced:r}=e;const{bitmap:a,placeChess:c,gameStatus:i,player:s,restart:u,seq:f}=M(15,15,5,!0),[d,b]=Object(o.useState)(),h=Object(o.useRef)(null),p=Object(o.useMemo)(()=>i===E.OnGoing,[i]);Object(o.useImperativeHandle)(t,()=>({placeChess:(e,t)=>{F(h.current,e,t,f),c(e,t)},restart:()=>{u(),H(h.current),x(null),b(null)},setHighlighPos:(e,t)=>{const{x:n,y:r}=A(e,t);b({x:n-W/2,y:r-W/2})}}),[c,u]),Object(o.useLayoutEffect)(()=>{i!==E.OnGoing&&n(i)},[i,n]),Object(o.useEffect)(()=>{s||i!==E.OnGoing||r(a)},[s,a]),Object(o.useEffect)(()=>{H(h.current)},[]);const m=Object(o.useCallback)(e=>{if(!p)return;const{x:t,y:n}=I(e);a[t][n]===k.Blank&&(F(h.current,t,n,f),c(t,n))},[f,a]),[g,x]=Object(o.useState)(),y=Object(o.useCallback)(e=>{const{x:t,y:n}=I(e),{x:r,y:o}=A(t,n);x({x:r-W/2,y:o-W/2})},[]);return l.a.createElement("div",null,l.a.createElement("canvas",{ref:h,onClick:m,onMouseMove:y}),g&&l.a.createElement(J,{style:{top:g.y,left:g.x}}),d&&l.a.createElement(L,{style:{top:d.y,left:d.x}}))});const _=(e,t,n,r,o)=>{let l={x:-1,y:-1,score:-1/0};if(0===t||te(e))return{x:-1,y:-1,score:n*Q(e)};let a=D(e);for(let c of a){e[c.x][c.y]=n;const a=_(e,t-1,-n,-o,-r);if(a.score=-a.score,e[c.x][c.y]=0,a.score>l.score&&(l={x:c.x,y:c.y,score:a.score}),(r=Math.max(r,a.score))>=o)break}return l},D=e=>{let t=[];for(let n=0;n<e.length;n++)for(let r=0;r<e[n].length;r++)0===e[n][r]&&K(e,n,r)&&t.push({x:n,y:r,score:0});return t.sort((t,n)=>N(e,n)-N(e,t)),t},K=(e,t,n)=>{const r=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,-1],[1,-1],[-1,1]];for(let[o,l]of r){const r=t+o,a=n+l;if(r>=0&&r<e.length&&a>=0&&a<e.length&&0!==e[r][a])return!0}return!1},N=(e,t)=>{e[t.x][t.y]=1;const n=Q(e);return e[t.x][t.y]=0,n},Q=e=>{let t=0;return t+=V(e),t+=V(U(e)),t+=Z(e),t+=Z(U(e))},U=e=>e[0].map((t,n)=>e.map(e=>e[n])),V=e=>{let t=0;for(let n of e)t+=$(n);return t},Z=e=>{let t=0;const n=e.length;for(let r=1-n;r<n;r++){let o=[];for(let t=0;t<n;t++){const l=t+r;l>=0&&l<n&&o.push(e[t][l])}t+=$(o)}for(let r=0;r<2*n-1;r++){let o=[];for(let t=0;t<n;t++){const l=r-t;l>=0&&l<n&&o.push(e[t][l])}t+=$(o)}return t},$=e=>{let t=0;for(let n=0;n<e.length-4;n++){const r=e.slice(n,n+5);t+=ee(r)}return t},ee=e=>{const t=e.filter(e=>1===e).length,n=e.filter(e=>-1===e).length;return 5===t?1e5:5===n?-1e5:t>0&&n>0?0:4===t?1e3:4===n?-1e3:3===t?100:3===n?-100:2===t?10:2===n?-10:0},te=e=>ne(e,1)||ne(e,-1),ne=(e,t)=>{const n=e.length;for(let r=0;r<n;r++)for(let o=0;o<n;o++)if(re(e,r,o,t,1,0)||re(e,r,o,t,0,1)||re(e,r,o,t,1,1)||re(e,r,o,t,1,-1))return!0;return!1};function re(e,t,n,r,o,l){const a=e.length;let c=0;for(let i=0;i<5;i++){const s=t+i*o,u=n+i*l;if(!(s>=0&&s<a&&u>=0&&u<a&&e[s][u]===r))break;if(5===++c)return!0}return!1}var oe;const le=f.a.section(oe||(oe=Object(s.a)(["\n    position: fixed;\n    bottom: 50px;\n    z-index: 1000;\n"]))),ae=()=>{const e=Object(o.useRef)(null),t=Object(o.useRef)(null);Object(o.useEffect)(()=>{var e;null===(e=t.current)||void 0===e||e.hide()});const n=Object(o.useCallback)(e=>{e!==E.OnGoing&&(console.log(e),setTimeout(()=>{var n;null===(n=t.current)||void 0===n||n.show(e)},200))},[]),r=Object(o.useCallback)(n=>{var r;null===(r=t.current)||void 0===r||r.show("loading");const o=function(e){return _(e,2,-1,-1/0,1/0)}(n);console.log(o),setTimeout(()=>{var n,r,l;null===(n=e.current)||void 0===n||n.placeChess(o.x,o.y),null===(r=e.current)||void 0===r||r.setHighlighPos(o.x,o.y),null===(l=t.current)||void 0===l||l.hide()},500)},[]),a=Object(o.useCallback)(()=>{var n,r;null===(n=e.current)||void 0===n||n.restart(),null===(r=t.current)||void 0===r||r.hide()},[]);return l.a.createElement(g,null,l.a.createElement(P,{ref:t}),l.a.createElement(X,{onPlayerPlaced:r,onStatusChange:n,ref:e}),l.a.createElement(le,null,l.a.createElement(b,{onClick:a},"Restart")))};var ce,ie,se,ue;const fe=f.a.td(ce||(ce=Object(s.a)(["\n    height: ","vmin;\n    width: ","vmin;\n    font-size: calc(","vmin - 20px);\n    line-height: calc(","vmin - 20px);\n    cursor: pointer;\n    text-align: center;\n"])),20,20,20,20),de=Object(f.a)(fe)(ie||(ie=Object(s.a)(['\n    &:after {\n        content: "\u2b55\ufe0f";\n    }\n']))),be=Object(f.a)(fe)(se||(se=Object(s.a)(['\n    &:after {\n        content: "\u274c";\n    }\n']))),he=e=>{let{status:t,onClick:n}=e;return t===k.Blank?l.a.createElement(fe,{onClick:n}):t===k.Player1?l.a.createElement(de,null):l.a.createElement(be,null)},pe=f.a.table(ue||(ue=Object(s.a)(["\n    border-collapse: collapse;\n\n    td + td,\n    th + th { border-left: 2vmin solid #fff; }\n    tr + tr { border-top: 2vmin solid #fff; }\n"]))),me=Object(o.forwardRef)((e,t)=>{let{onStatusChange:n,onPlayerPlaced:r}=e;const a=Object(o.useRef)(null),{bitmap:c,placeChess:i,gameStatus:s,player:u,restart:f}=M(3,3,3,!0),d=Object(o.useMemo)(()=>s===E.OnGoing,[s]),b=Object(o.useMemo)(()=>c.map((e,t)=>l.a.createElement("tr",{key:"row-".concat(t)},e.map((e,n)=>l.a.createElement(he,{key:"cell-".concat(t,"-").concat(n),status:e,onClick:()=>d&&i(t,n)})))),[c,i,d]);return Object(o.useImperativeHandle)(t,()=>({placeChess:(e,t)=>i(e,t),restart:()=>f()}),[i,f]),Object(o.useLayoutEffect)(()=>{s!==E.OnGoing&&n(s)},[s,n]),Object(o.useEffect)(()=>{u||s!==E.OnGoing||r(c)},[u,c,s,r]),l.a.createElement(pe,{ref:a},l.a.createElement("tbody",null,b))}),ge=3;function xe(e,t,n){let r=function(e){for(let t=0;t<ge;t++)if(e[t][0]===e[t][1]&&e[t][1]===e[t][2]){if(-1===e[t][0])return 10;if(1===e[t][0])return-10}for(let t=0;t<ge;t++)if(e[0][t]===e[1][t]&&e[1][t]===e[2][t]){if(-1===e[0][t])return 10;if(1===e[0][t])return-10}if(e[0][0]===e[1][1]&&e[1][1]===e[2][2]){if(-1===e[0][0])return 10;if(1===e[0][0])return-10}if(e[0][2]===e[1][1]&&e[1][1]===e[2][0]){if(-1===e[0][2])return 10;if(1===e[0][2])return-10}return 0}(e);if(10===r)return r-t;if(-10===r)return r+t;if(!1===function(e){for(let t=0;t<ge;t++)for(let n=0;n<ge;n++)if(0===e[t][n])return!0;return!1}(e))return 0;if(n){let n=-1/0;for(let r=0;r<ge;r++)for(let o=0;o<ge;o++)0===e[r][o]&&(e[r][o]=-1,n=Math.max(n,xe(e,t+1,!1)),e[r][o]=0);return n}{let n=1/0;for(let r=0;r<ge;r++)for(let o=0;o<ge;o++)0===e[r][o]&&(e[r][o]=1,n=Math.min(n,xe(e,t+1,!0)),e[r][o]=0);return n}}var ye;const Oe=f.a.section(ye||(ye=Object(s.a)(["\n    position: fixed;\n    bottom: 50px;\n    z-index: 1000;\n"]))),ve=()=>{const e=Object(o.useRef)(null),t=Object(o.useRef)(null);Object(o.useEffect)(()=>{var e;null===(e=t.current)||void 0===e||e.hide()});const n=Object(o.useCallback)(e=>{e!==E.OnGoing&&(console.log(e),setTimeout(()=>{var n;null===(n=t.current)||void 0===n||n.show(e)},400))},[]),r=Object(o.useCallback)(t=>{var n;const r=function(e){let t=-1/0,n={x:-1,y:-1,score:t};for(let r=0;r<ge;r++)for(let o=0;o<ge;o++)if(0===e[r][o]){e[r][o]=-1;const l=xe(e,0,!1);e[r][o]=0,l>t&&(n={x:r,y:o,score:t=l})}return n}(t);null===(n=e.current)||void 0===n||n.placeChess(r.x,r.y)},[]),a=Object(o.useCallback)(()=>{var n,r;null===(n=e.current)||void 0===n||n.restart(),null===(r=t.current)||void 0===r||r.hide()},[]);return l.a.createElement(g,null,l.a.createElement(P,{ref:t}),l.a.createElement(me,{onPlayerPlaced:r,onStatusChange:n,ref:e}),l.a.createElement(Oe,null,l.a.createElement(b,{onClick:a},"Restart")))};n(59);const je=Object(i.b)([{path:"/tic-tac-toe",element:l.a.createElement(ve,null)},{path:"/gomoku",element:l.a.createElement(ae,null)},{path:"/",element:l.a.createElement(j,null)}]),ke=()=>l.a.createElement(i.a,{router:je});c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ke,null)))}},[[25,1,2]]]);
//# sourceMappingURL=main.50673579.chunk.js.map